<!doctype html>
<html>
<head>
  <meta charset=utf-8 />
  <title>{% if page.title %} {{ page.title }} | {% endif %} Resume</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-DW1FMKJGYB">
  </script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-DW1FMKJGYB');
    /**
    * Function that registers a click on an outbound link in Analytics.
    * This function takes a valid URL string as an argument, and uses that URL string
    * as the event label. Setting the transport method to 'beacon' lets the hit be sent
    * using 'navigator.sendBeacon' in browser that support it.
    */
    var getOutboundLink = function(label) {
      gtag('event', 'click', {
        'event_category': 'outbound',
        'event_label': label,
        'transport_type': 'beacon'
      });
    }
  </script>
  <link href="media/{{ site.style }}-screen.css" type="text/css" rel="stylesheet" media="screen">
  <link href="media/{{ site.style }}-print.css" type="text/css" rel="stylesheet" media="print">
</head>
<body>
  <div id="main">
    <div id="content">
      {{ content }}
    </div>
  </div>
  <script>
    var apiUrl = 'https://codeforces.com/api/user.info?handles=huikang';
    fetch(apiUrl).then(response => {
      return response.json();
    }).then(data => {
      console.log("update")
      let profile = data["result"][0]
      document.getElementById("rating").text = profile["rating"];
      document.getElementById("rank").text = profile["rank"];
    }).catch(err => {
      console.log(err)
      // Do something for an error here
    });
  </script>
</body>
</html>